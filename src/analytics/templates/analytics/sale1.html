{% load static %}
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

<!-- Fontawesome CSS -->
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' />

<!-- jquery-confirm CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.css">


<!-- Custom Stripe Styling -->
<link rel="stylesheet" href="{% static 'css/stripe-custom-style.css' %}">


<div class='row my-5'>
		<div class='col-12'>
				<h1>Sales Data</h1>
		</div>
</div>

<hr/>

<div class='row my-5'>
		<div class='col-4'>
				<h3>Today's sales</h3>
				<hr/>
				<p>Recent Total: ${{ today.recent_data.total__sum }}</p>
				<ul>
				{% for order in today.recent|slice:":5" %}
						<li class='my-3'>Order #{{ order.order_id }}<br/>
						${{ order.total }}<br/>
						{{ order.updated|timesince }} ago</li>
				{% endfor %}
		</ul>

		<h3>This week's sales</h3>
		<hr/>
				<p>Recent Total: ${{ this_week.recent_data.total__sum }}</p>
				<ul>
				{% for order in this_week.recent|slice:":5" %}
						<li class='my-3'>Order #{{ order.order_id }}<br/>
						${{ order.total }}<br/>
						{{ order.updated|timesince }} ago</li>
				{% endfor %}
		</ul>
		</div>

		<div class='col'>
			 <canvas class='cfe-render-chart' id="thisWeekSales" data-type='week' width="400" height="400"></canvas>
		</div>
</div>



<hr/>

<div class='row my-5'>
		<div class='col-12'>
				<h1>Previous 4 weeks</h1>
		</div>
		<div class='col'>
				<p>Orders Total: ${{ last_four_weeks.recent_data.total__sum }}</p>
				<p>Shipped Total: {% if last_four_weeks.shipped_data.total__sum %}${{ last_four_weeks.shipped_data.total__sum }} {% endif %}</p>
				<p>Paid Totals: ${{ last_four_weeks.paid_data.total__sum }}</p>

		</div>
		 <div class='col'>
			 <canvas class='cfe-render-chart' id="fourWeekSales" data-type='4weeks' width="400" height="400"></canvas>
		</div>
</div>


{% load static %}
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS
slim is missing ajax -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

<!-- Stripe JS -->
<script src="https://js.stripe.com/v3/"></script>


<!-- jquery-confirm JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.js"></script>

<!-- js Render -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jsrender/0.9.88/jsrender.min.js'></script>
<!-- {% include 'base/js_templates.html' %} -->


<!-- Chart.js -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js'></script>

<!-- Django Secure AJAX JS -->
<script src='{% static "js/csrf.ajax.js" %}'></script>

<!-- eCommerce Sales Data JS -->
<script src='{% static "js/ecommerce.sales.js" %}'></script>

<!-- eCommerce Custom JS -->
<script src='{% static "js/ecommerce.js" %}'></script>

<!-- eCommerce Main JS -->
<script src='{% static "js/ecommerce.main.js" %}'></script>
