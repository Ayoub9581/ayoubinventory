{% extends "base.html" %}
{% load staticfiles %}
{% block content %}
<div class="breadcrumb">
	<div class="container">
		<div class="breadcrumb-inner">
			<ul class="list-inline list-unstyled">
				<li><a href="#">Home</a></li>
				<li class='active'>Shopping Cart</li>
			</ul>
		</div><!-- /.breadcrumb-inner -->
	</div><!-- /.container -->
</div><!-- /.breadcrumb -->



<div class="shopping-cart">
	<div class="shopping-cart-table ">
		<div class="table-responsive">
			{% if cart.products.exists %}
			<table class="table cart-table">
				<thead>
					<tr>
						<th class="cart-romove item">Remove</th>
						<th class="cart-description item">Image</th>
						<th class="cart-product-name item">Product Name</th>
						<!-- <th class="cart-edit item">Edit</th> -->
						<!-- <th class="cart-qty item">Quantity</th> -->
						<th class="cart-sub-total item">Subtotal</th>
						<!-- <th class="cart-total last-item">Grandtotal</th> -->
					</tr>
				</thead><!-- /thead -->
				<tfoot>
					<tr>
						<td colspan="7">
							<div class="shopping-cart-btn">
								<span class="">
									<a href="#" class="btn btn-upper btn-primary outer-left-xs">Continue Shopping</a>
									<a href="#" class="btn btn-upper btn-primary pull-right outer-right-xs">Update shopping cart</a>
								</span>
							</div><!-- /.shopping-cart-btn -->
						</td>
					</tr>
				</tfoot>
				<tbody class='cart-body'>
					{% for product in cart.products.all %}
					<tr class='cart-product'>
						{% include 'carts/snippets/remove-product1.html' with product_id=product.id %}
						<td class="cart-image">
							<a class="entry-thumbnail" href="detail.html">
								<img src="{{product.image.url}}" alt="">
							</a>
						</td>
						<td class="cart-product-name-info">
							<h4 class='cart-product-description'><a href="detail.html">{{product.title}}</a></h4>
						</td>
						<!-- <td class="cart-product-edit"><a href="#" class="product-edit">Edit</a></td> -->
						<!-- <td class="cart-product-quantity">
							<div class="cart-quantity">
								<div class="quant-input">
									<div class="arrows">
										<div class="arrow plus gradient"><span class="ir"><i class="icon fa fa-sort-asc"></i></span></div>
										<div class="arrow minus gradient"><span class="ir"><i class="icon fa fa-sort-desc"></i></span></div>
									</div>
									<input type="text" value="1">
								</div>
							</div>
						</td> -->
						<td class="cart-product-sub-total"><span class="cart-sub-total-price">${{product.price}}</span></td>
						<!-- <td class="cart-product-grand-total"><span class="cart-grand-total-price">$300.00</span></td> -->
					</tr>
					{% endfor %}
				</tbody><!-- /tbody -->
			</table><!-- /table -->
			<div class='cart-item-remove-form' style='display:none'>

				{% include 'carts/snippets/remove-product1.html' %}
			</div>
			{% else %}
			<p class='lead'>Cart is empty</p>
			{% endif %}
		</div>
	</div><!-- /.shopping-cart-table -->
	<div class="col-md-4 col-sm-12 estimate-ship-tax">
		<table class="table">
			<thead>
				<tr>
					<th>
						<span class="estimate-title">Estimate shipping and tax</span>
						<p>Enter your destination to get shipping and tax.</p>
					</th>
				</tr>
			</thead><!-- /thead -->

		</table>
	</div><!-- /.estimate-ship-tax -->

	<div class="col-md-4 col-sm-12 estimate-ship-tax">
		<table class="table">
			<thead>
				<tr>
					<th>
						<span class="estimate-title">Discount Code</span>
						<p>Enter your coupon code if you have one..</p>
					</th>
				</tr>
			</thead>

		</table><!-- /table -->
	</div><!-- /.estimate-ship-tax -->

	<div class="col-md-4 col-sm-12 cart-shopping-total">
		<table class="table">
			<thead>
				<tr>
					<th>
						<div class="cart-sub-total">
							Subtotal<span class="inner-left-md cart-subtotal">{{ cart.subtotal }}</span>
						</div>
						<div class="cart-grand-total">
							Grand Total<span class="inner-left-md cart-total">{{ cart.total }}</span>
						</div>
					</th>
				</tr>
			</thead><!-- /thead -->
			<tbody>
				<tr>
					<td>
						<div class="cart-checkout-btn pull-right">
							<a href="{% url 'cart:checkout' %}"><button type="submit" class="btn btn-primary checkout-btn">PROCCED TO CHEKOUT</button></a>
							<span class="">Checkout with multiples address!</span>
						</div>
					</td>
				</tr>
			</tbody><!-- /tbody -->
		</table><!-- /table -->
	</div><!-- /.cart-shopping-total -->
</div><!-- /.shopping-cart -->

{% endblock %}



<h1>Cart</h1>

{% if cart.products.exists %}
<table class="table cart-table">
	<thead>
		<tr>
			<th>#</th>
			<th>Product Name</th>
			<th>Product Price</th>
		</tr>
	</thead>
	<tbody class='cart-body'>
		{% for product in cart.products.all %}
		<tr class='cart-product'>
			<th scope="row">{{ forloop.counter }}</th>
			<td><a href='{{ product.get_absolute_url }}'>{{ product.title }}</a>
				{% include 'carts/snippets/remove-product.html' with product_id=product.id %}
			</td>
			<td>{{ product.price }}</td>
		</tr>
		{% endfor %}
		<tr>
			<td colspan="2"></td>
			<td><b>Subtotal</b> $<span class='cart-subtotal'>{{ cart.subtotal }}</span></td>
		</tr>
		<tr>
			<td colspan="2"></td>
			<td><b>Total</b> $<span class='cart-total'>{{ cart.total }}</span></td>
		</tr>
		<tr>
			<td colspan="2"></td>
			<td><a class='btn btn-lg btn-success' href='{% url "cart:checkout" %}'>Checkout</a></td>
		</tr>

	</tbody>
</table>

<div class='cart-item-remove-form' style='display:none'>

	{% include 'carts/snippets/remove-product.html' %}
</div>

{% else %}
<p class='lead'>Cart is empty</p>
{% endif %}
